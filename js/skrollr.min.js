(function(n,E,w){function q(a){g=E.documentElement;v=E.body;za();p=this;a=a||{};R=a.constants||{};if(a.easing)for(var b in a.easing)S[b]=a.easing[b];Z=a.edgeStrategy||"set";H={beforerender:a.beforerender,render:a.render};(O=!1!==a.forceHeight)&&(aa=a.scale||1);T=a.mobileDeceleration||Aa;ba=!1!==a.smoothScrolling;U=a.smoothScrollingDuration||Ba;I={targetTop:p.getScrollTop()};(C=(a.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||n.opera)})())?
((D=E.getElementById("skrollr-body"))&&Ca(),Da(),J(g,[F,la],[ca])):J(g,[F,ma],[ca]);p.refresh();na(n,"resize orientationchange",function(){var a=g.clientWidth,b=g.clientHeight;if(b!==da||a!==ea)da=b,ea=a,V=!0});var c=Ea();(function d(){V&&(V=!1,oa());var a=p.getScrollTop(),b=M();if(r){if(b>=r.endTime){a=r.targetTop;var B=r.done;r=w}else a=r.easing((b-r.startTime)/r.duration),a=r.startTop+a*r.topDiff|0;p.setScrollTop(a,!0)}else N||(I.targetTop-a&&(I={startTop:K,topDiff:a-K,targetTop:a,startTime:fa,
endTime:fa+U}),b<=I.endTime&&(a=S.sqrt((b-I.startTime)/U),a=I.startTop+a*I.topDiff|0));C&&D&&L.setStyle(D,"transform","translate(0, "+-P+"px) "+Q);if(N||K!==a){W=a>K?"down":a<K?"up":W;N=!1;var pa={curTop:a,lastTop:K,maxTop:y,direction:W};if(!1!==(H.beforerender&&H.beforerender.call(p,pa))){for(var n=a,t=p.getScrollTop(),e=0,l=x.length;e<l;e++){var h=x[e],g=h.element,m=h.smoothScrolling?n:t,f=h.keyFrames,u=m<f[0].frame,q=m>f[f.length-1].frame,z=f[u?0:f.length-1],v;if(u||q){if(u&&-1===h.edge||q&&1===
h.edge)continue;J(g,[u?"skrollable-before":"skrollable-after"],["skrollable-before","skrollable-between","skrollable-after"]);h.edge=u?-1:1;switch(h.edgeStrategy){case "reset":X(g);continue;case "ease":m=z.frame;break;default:case "set":m=z.props;for(v in m)ha.call(m,v)&&(u=qa(m[v].value),L.setStyle(g,v,u));continue}}else 0!==h.edge&&(J(g,["skrollable","skrollable-between"],["skrollable-before","skrollable-after"]),h.edge=0);u=0;for(h=f.length-1;u<h;u++)if(m>=f[u].frame&&m<=f[u+1].frame){h=f[u];f=
f[u+1];for(v in h.props)if(ha.call(h.props,v)){z=(m-h.frame)/(f.frame-h.frame);z=h.props[v].easing(z);u=h.props[v].value;q=f.props[v].value;var E=z,F=u.length;if(F!==q.length)throw"Can't interpolate between \""+u[0]+'" and "'+q[0]+'"';var G=[u[0]];for(z=1;z<F;z++)G[z]=u[z]+(q[z]-u[z])*E;u=G;u=qa(u);L.setStyle(g,v,u)}break}}K=a;H.render&&H.render.call(p,pa)}B&&B.call(p,!1)}fa=b;ra=c(d)})();return p}var L=n.skrollr={get:function(){return p},init:function(a){return p||new q(a)},VERSION:"0.6.21"},ha=
Object.prototype.hasOwnProperty,m=n.Math,ia=n.getComputedStyle,g,v,F="skrollr",ca="no-"+F,ma=F+"-desktop",la=F+"-mobile",Aa=.004,Ba=200,ja=/^(?:input|textarea|button|select)$/i,sa=/^\s+|\s+$/g,Fa=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,Ga=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,Ha=/^([a-z\-]+)\[(\w+)\]$/,Ia=/-([a-z])/g,Ja=function(a,b){return b.toUpperCase()},ta=/[\-+]?[\d]*\.?[\d]+/g,ua=/\{\?\}/g,va=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,
wa=/[a-z\-]+-gradient/g,f="",G="",za=function(){var a=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(ia){var b=ia(v,null),c;for(c in b)if(f=c.match(a)||+c==c&&b[c].match(a))break;f?(f=f[0],"-"===f.slice(0,1)?(G=f,f={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[f]):G="-"+f.toLowerCase()+"-"):f=G=""}},Ea=function(){var a=n.requestAnimationFrame||n[f.toLowerCase()+"RequestAnimationFrame"],b=M();if(C||!a)a=function(a){var c=M()-b;c=m.max(0,1E3/60-c);return n.setTimeout(function(){b=M();
a()},c)};return a},Ka=function(){var a=n.cancelAnimationFrame||n[f.toLowerCase()+"CancelAnimationFrame"];if(C||!a)a=function(a){return n.clearTimeout(a)};return a},S={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-m.cos(a*m.PI)/2+.5},sqrt:function(a){return m.sqrt(a)},outCubic:function(a){return m.pow(a-1,3)+1},bounce:function(a){if(.5083>=a)var b=3;else if(.8489>=a)b=9;else if(.96208>=
a)b=27;else if(.99981>=a)b=91;else return 1;return 1-m.abs(3*m.cos(a*b*1.028)/b)}};q.prototype.refresh=function(a){var b,c=!1;a===w?(c=!0,x=[],ka=0,a=E.getElementsByTagName("*")):a=[].concat(a);var k=0;for(b=a.length;k<b;k++){var d=a[k],A=d,f=[],B=ba,m=Z;if(d.attributes){for(var g=0,t=d.attributes.length;g<t;g++){var e=d.attributes[g];if("data-anchor-target"===e.name){if(A=E.querySelector(e.value),null===A)throw'Unable to find anchor target "'+e.value+'"';}else if("data-smooth-scrolling"===e.name)B=
"off"!==e.value;else if("data-edge-strategy"===e.name)m=e.value;else{var l=e.name.match(Fa);if(null!==l){e={props:e.value,element:d};f.push(e);var h=l[1];h&&(e.constant=h.substr(1));h=l[2];/p$/.test(h)?(e.isPercentage=!0,e.offset=(h.slice(0,-1)|0)/100):e.offset=h|0;h=l[3];l=l[4]||h;h&&"start"!==h&&"end"!==h?(e.mode="relative",e.anchors=[h,l]):(e.mode="absolute","end"===h?e.isEnd=!0:e.isPercentage||(e.offset*=aa))}}}f.length&&(!c&&"___skrollable_id"in d?(l=d.___skrollable_id,g=x[l].styleAttr,t=x[l].classAttr):
(l=d.___skrollable_id=ka++,g=d.style.cssText,t=xa(d)),x[l]={element:d,styleAttr:g,classAttr:t,anchorTarget:A,keyFrames:f,smoothScrolling:B,edgeStrategy:m},J(d,["skrollable"],[]))}}oa();k=0;for(b=a.length;k<b;k++)if(c=x[a[k].___skrollable_id],c!==w){d=c;A=0;for(f=d.keyFrames.length;A<f;A++){B=d.keyFrames[A];for(g={};null!==(t=Ga.exec(B.props));)m=t[1],l=t[2],t=m.match(Ha),null!==t?(m=t[1],t=t[2]):t="linear",l=l.indexOf("!")?La(l):[l.slice(1)],g[m]={value:l,easing:S[t]};B.props=g}A=c;f={};d=0;for(c=
A.keyFrames.length;d<c;d++)ya(A.keyFrames[d],f);f={};for(d=A.keyFrames.length-1;0<=d;d--)ya(A.keyFrames[d],f)}return p};q.prototype.relativeToAbsolute=function(a,b,c){var k=g.clientHeight,d=a.getBoundingClientRect();a=d.top;d=d.bottom-d.top;"bottom"===b?a-=k:"center"===b&&(a-=k/2);"bottom"===c?a+=d:"center"===c&&(a+=d/2);a+=p.getScrollTop();return a+.5|0};q.prototype.animateTo=function(a,b){b=b||{};var c=M(),k=p.getScrollTop();r={startTop:k,topDiff:a-k,targetTop:a,duration:b.duration||1E3,startTime:c,
endTime:c+(b.duration||1E3),easing:S[b.easing||"linear"],done:b.done};r.topDiff||(r.done&&r.done.call(p,!1),r=w);return p};q.prototype.stopAnimateTo=function(){r&&r.done&&r.done.call(p,!0);r=w};q.prototype.isAnimatingTo=function(){return!!r};q.prototype.setScrollTop=function(a,b){N=!0===b;C?P=m.min(m.max(a,0),y):n.scrollTo(0,a);return p};q.prototype.getScrollTop=function(){return C?P:n.pageYOffset||g.scrollTop||v.scrollTop||0};q.prototype.getMaxScrollTop=function(){return y};q.prototype.on=function(a,
b){H[a]=b;return p};q.prototype.off=function(a){delete H[a];return p};q.prototype.destroy=function(){Ka()(ra);for(var a,b=0,c=Y.length;b<c;b++)a=Y[b],Ma(a.element,a.name,a.listener);Y=[];J(g,[ca],[F,ma,la]);a=0;for(b=x.length;a<b;a++)X(x[a].element);g.style.overflow=v.style.overflow="auto";g.style.height=v.style.height="auto";D&&L.setStyle(D,"transform","none");O=H=D=p=w;y=0;aa=1;T=R=w;W="down";K=-1;da=ea=0;V=!1;N=I=U=ba=r=w;ka=0;Z=w;C=!1;P=0;Q=w};var Da=function(){var a,b,c,k,d,f,r,B,q,x,t;na(g,
"touchstart touchmove touchcancel touchend",function(e){var l=e.changedTouches[0];for(k=e.target;3===k.nodeType;)k=k.parentNode;d=l.clientY;f=l.clientX;q=e.timeStamp;ja.test(k.tagName)||e.preventDefault();switch(e.type){case "touchstart":a&&a.blur();p.stopAnimateTo();a=k;b=r=d;c=f;break;case "touchmove":ja.test(k.tagName)&&E.activeElement!==k&&e.preventDefault();B=d-r;t=q-x;p.setScrollTop(P-B,!0);r=d;x=q;break;default:case "touchcancel":case "touchend":var h=b-d,g=c-f;49>g*g+h*h?ja.test(a.tagName)||
(a.focus(),h=E.createEvent("MouseEvents"),h.initMouseEvent("click",!0,!0,e.view,1,l.screenX,l.screenY,l.clientX,l.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),a.dispatchEvent(h)):(a=w,l=B/t,l=m.max(m.min(l,3),-3),e=m.abs(l/T),l=l*e+.5*T*e*e,h=p.getScrollTop()-l,g=0,h>y?(g=(y-h)/l,h=y):0>h&&(g=-h/l,h=0),p.animateTo(h+.5|0,{easing:"outCubic",duration:e*(1-g)}))}});n.scrollTo(0,0);g.style.overflow=v.style.overflow="hidden"},La=function(a){var b=[];va.lastIndex=0;a=a.replace(va,function(a){return a.replace(ta,
function(a){return a/255*100+"%"})});G&&(wa.lastIndex=0,a=a.replace(wa,function(a){return G+a}));a=a.replace(ta,function(a){b.push(+a);return"{?}"});b.unshift(a);return b},ya=function(a,b){for(var c in b)ha.call(a.props,c)||(a.props[c]=b[c]);for(c in a.props)b[c]=a.props[c]},qa=function(a){var b=1;ua.lastIndex=0;return a[0].replace(ua,function(){return a[b++]})},X=function(a,b){a=[].concat(a);for(var c,k,d=0,g=a.length;d<g;d++)if(k=a[d],c=x[k.___skrollable_id])b?(k.style.cssText=c.dirtyStyleAttr,
J(k,c.dirtyClassAttr)):(c.dirtyStyleAttr=k.style.cssText,c.dirtyClassAttr=xa(k),k.style.cssText=c.styleAttr,J(k,c.classAttr))},Ca=function(){Q="translateZ(0)";L.setStyle(D,"transform",Q);var a=ia(D),b=a.getPropertyValue("transform");a=a.getPropertyValue(G+"transform");b&&"none"!==b||a&&"none"!==a||(Q="")};L.setStyle=function(a,b,c){a=a.style;b=b.replace(Ia,Ja).replace("-","");if("zIndex"===b)isNaN(c)?a[b]=c:a[b]=""+(c|0);else if("float"===b)a.styleFloat=a.cssFloat=c;else try{f&&(a[f+b.slice(0,1).toUpperCase()+
b.slice(1)]=c),a[b]=c}catch(k){}};var na=L.addEvent=function(a,b,c){var k=function(a){a=a||n.event;a.target||(a.target=a.srcElement);a.preventDefault||(a.preventDefault=function(){a.returnValue=!1});return c.call(this,a)};b=b.split(" ");for(var d,g=0,f=b.length;g<f;g++)d=b[g],a.addEventListener?a.addEventListener(d,c,!1):a.attachEvent("on"+d,k),Y.push({element:a,name:d,listener:c})},Ma=L.removeEvent=function(a,b,c){b=b.split(" ");for(var k=0,d=b.length;k<d;k++)a.removeEventListener?a.removeEventListener(b[k],
c,!1):a.detachEvent("on"+b[k],c)},oa=function(){var a=p.getScrollTop();y=0;O&&!C&&(v.style.height="auto");var b=g.clientHeight,c=g.clientHeight,k={};for(w in R){var d=R[w];"function"===typeof d?d=d.call(p):/p$/.test(d)&&(d=d.slice(0,-1)/100*c);k[w]=d}var f,r;var q=0;for(r=x.length;q<r;q++){var n=x[q];c=n.element;var w=n.anchorTarget;d=n.keyFrames;var t=0;for(f=d.length;t<f;t++){var e=d[t];n=e.offset;var l=k[e.constant]||0;e.frame=n;e.isPercentage&&(n*=b,e.frame=n);"relative"===e.mode&&(X(c),e.frame=
p.relativeToAbsolute(w,e.anchors[0],e.anchors[1])-n,X(c,!0));e.frame+=l;O&&!e.isEnd&&e.frame>y&&(y=e.frame)}}y=m.max(y,m.max(D&&D.offsetHeight||0,v.scrollHeight,v.offsetHeight,g.scrollHeight,g.offsetHeight,g.clientHeight)-g.clientHeight);q=0;for(r=x.length;q<r;q++){n=x[q];d=n.keyFrames;t=0;for(f=d.length;t<f;t++)e=d[t],l=k[e.constant]||0,e.isEnd&&(e.frame=y-e.offset+l);n.keyFrames.sort(Na)}O&&!C&&(v.style.height=y+g.clientHeight+"px");C?p.setScrollTop(m.min(p.getScrollTop(),y)):p.setScrollTop(a,!0);
N=!0},xa=function(a){var b="className";n.SVGElement&&a instanceof n.SVGElement&&(a=a[b],b="baseVal");return a[b]},J=function(a,b,c){var f="className";n.SVGElement&&a instanceof n.SVGElement&&(a=a[f],f="baseVal");if(c===w)a[f]=b;else{for(var d=a[f],g=0,m=c.length;g<m;g++)d=(" "+d+" ").replace(" "+c[g]+" "," ");d=d.replace(sa,"");c=0;for(g=b.length;c<g;c++)-1===(" "+d+" ").indexOf(" "+b[c]+" ")&&(d+=" "+b[c]);a[f]=d.replace(sa,"")}},M=Date.now||function(){return+new Date},Na=function(a,b){return a.frame-
b.frame},p,x,D,H,O,y=0,aa=1,R,T,W="down",K=-1,fa=M(),ea=0,da=0,V=!1,r,ba,U,I,N,ka=0,Z,C=!1,P=0,Q,Y=[],ra})(window,document);